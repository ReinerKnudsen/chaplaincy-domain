import{s as Q,e as x,a as P,c as M,b as D,q as R,g as C,f as _,m as I,i as v,h as y,x as X,r as Y,w as W,y as G,t as N,d as U,n as Z}from"../chunks/scheduler.NTvg1yRH.js";import{S as ee,i as te,c as S,b as H,m as L,t as w,a as b,f as se,d as T,e as J,g as ne}from"../chunks/index.BFVs8E14.js";import{g as ae,b as re}from"../chunks/index-219c3cac.UombHsWy.js";import{a as oe}from"../chunks/authService.B_ouGYOY.js";import{g as le}from"../chunks/entry.C7pGwSda.js";import{B as V}from"../chunks/Button.DAqEizx_.js";import{L as z,I as K}from"../chunks/Input.DECM0dUc.js";import{H as ue}from"../chunks/Helper.DdoAxPGo.js";function fe(r){let t,a="<strong>Password *</strong>",e,s,p,l;function c(n){r[7](n)}let g={type:"password",name:"new-password",id:"new-password",required:!0};return r[0]!==void 0&&(g.value=r[0]),s=new K({props:g}),W.push(()=>J(s,"value",c)),s.$on("change",r[3]),s.$on("input",r[5]),{c(){t=x("span"),t.innerHTML=a,e=P(),S(s.$$.fragment)},l(n){t=M(n,"SPAN",{"data-svelte-h":!0}),R(t)!=="svelte-1wi22ja"&&(t.innerHTML=a),e=C(n),H(s.$$.fragment,n)},m(n,i){v(n,t,i),v(n,e,i),L(s,n,i),l=!0},p(n,i){const d={};!p&&i&1&&(p=!0,d.value=n[0],G(()=>p=!1)),s.$set(d)},i(n){l||(w(s.$$.fragment,n),l=!0)},o(n){b(s.$$.fragment,n),l=!1},d(n){n&&(_(t),_(e)),T(s,n)}}}function ie(r){let t,a="<strong>Repeat Password *</strong>",e,s,p,l;function c(n){r[8](n)}let g={type:"password",name:"check-password",id:"check-password",required:!0};return r[1]!==void 0&&(g.value=r[1]),s=new K({props:g}),W.push(()=>J(s,"value",c)),s.$on("change",r[3]),s.$on("input",r[5]),{c(){t=x("span"),t.innerHTML=a,e=P(),S(s.$$.fragment)},l(n){t=M(n,"SPAN",{"data-svelte-h":!0}),R(t)!=="svelte-9kfxzf"&&(t.innerHTML=a),e=C(n),H(s.$$.fragment,n)},m(n,i){v(n,t,i),v(n,e,i),L(s,n,i),l=!0},p(n,i){const d={};!p&&i&2&&(p=!0,d.value=n[1],G(()=>p=!1)),s.$set(d)},i(n){l||(w(s.$$.fragment,n),l=!0)},o(n){b(s.$$.fragment,n),l=!1},d(n){n&&(_(t),_(e)),T(s,n)}}}function O(r){let t,a;return t=new ue({props:{class:"mt-2",color:"red",$$slots:{default:[pe]},$$scope:{ctx:r}}}),{c(){S(t.$$.fragment)},l(e){H(t.$$.fragment,e)},m(e,s){L(t,e,s),a=!0},i(e){a||(w(t.$$.fragment,e),a=!0)},o(e){b(t.$$.fragment,e),a=!1},d(e){T(t,e)}}}function pe(r){let t,a="Whoops!",e;return{c(){t=x("span"),t.textContent=a,e=N(`
					The passwords don't match..`),this.h()},l(s){t=M(s,"SPAN",{class:!0,"data-svelte-h":!0}),R(t)!=="svelte-1vq1h03"&&(t.textContent=a),e=U(s,`
					The passwords don't match..`),this.h()},h(){I(t,"class","font-medium")},m(s,p){v(s,t,p),v(s,e,p)},p:Z,d(s){s&&(_(t),_(e))}}}function ce(r){let t;return{c(){t=N("Change password")},l(a){t=U(a,"Change password")},m(a,e){v(a,t,e)},d(a){a&&_(t)}}}function me(r){let t;return{c(){t=N("Make admin")},l(a){t=U(a,"Make admin")},m(a,e){v(a,t,e)},d(a){a&&_(t)}}}function $e(r){let t,a,e,s,p="Set or reset your password",l,c,g,n,i,d,h,E,f,q,A,j;c=new z({props:{class:"space-y-2",for:"new-password",$$slots:{default:[fe]},$$scope:{ctx:r}}}),n=new z({props:{class:"space-y-2",for:"check-password",$$slots:{default:[ie]},$$scope:{ctx:r}}});let u=r[2]&&O(r);return h=new V({props:{type:"submit",class:"w-full  bg-primary-80 text-white-primary",$$slots:{default:[ce]},$$scope:{ctx:r}}}),f=new V({props:{type:"button",$$slots:{default:[me]},$$scope:{ctx:r}}}),f.$on("click",r[6]),{c(){t=x("div"),a=x("div"),e=x("form"),s=x("h3"),s.textContent=p,l=P(),S(c.$$.fragment),g=P(),S(n.$$.fragment),i=P(),u&&u.c(),d=P(),S(h.$$.fragment),E=P(),S(f.$$.fragment),this.h()},l(o){t=M(o,"DIV",{class:!0});var m=D(t);a=M(m,"DIV",{class:!0});var k=D(a);e=M(k,"FORM",{class:!0});var $=D(e);s=M($,"H3",{class:!0,"data-svelte-h":!0}),R(s)!=="svelte-1a0ope"&&(s.textContent=p),l=C($),H(c.$$.fragment,$),g=C($),H(n.$$.fragment,$),i=C($),u&&u.l($),d=C($),H(h.$$.fragment,$),$.forEach(_),E=C(k),H(f.$$.fragment,k),k.forEach(_),m.forEach(_),this.h()},h(){I(s,"class","dark:text-white p-0 text-xl font-medium text-gray-900"),I(e,"class","flex flex-col space-y-6"),I(a,"class","w-5/12 space-y-4 rounded-xl bg-white-primary p-6 shadow-xl sm:p-8 md:space-y-6"),I(t,"class","flex flex-row justify-center")},m(o,m){v(o,t,m),y(t,a),y(a,e),y(e,s),y(e,l),L(c,e,null),y(e,g),L(n,e,null),y(e,i),u&&u.m(e,null),y(e,d),L(h,e,null),y(a,E),L(f,a,null),q=!0,A||(j=X(e,"submit",r[4]),A=!0)},p(o,[m]){const k={};m&2049&&(k.$$scope={dirty:m,ctx:o}),c.$set(k);const $={};m&2050&&($.$$scope={dirty:m,ctx:o}),n.$set($),o[2]?u?m&4&&w(u,1):(u=O(o),u.c(),w(u,1),u.m(e,d)):u&&(ne(),b(u,1,1,()=>{u=null}),se());const B={};m&2048&&(B.$$scope={dirty:m,ctx:o}),h.$set(B);const F={};m&2048&&(F.$$scope={dirty:m,ctx:o}),f.$set(F)},i(o){q||(w(c.$$.fragment,o),w(n.$$.fragment,o),w(u),w(h.$$.fragment,o),w(f.$$.fragment,o),q=!0)},o(o){b(c.$$.fragment,o),b(n.$$.fragment,o),b(u),b(h.$$.fragment,o),b(f.$$.fragment,o),q=!1},d(o){o&&_(t),T(c),T(n),u&&u.d(),T(h),T(f),A=!1,j()}}}function de(r,t,a){let e="",s="",p,l=!1;Y(()=>{p=new URLSearchParams(window.location.search).get("oobCode")});const c=async()=>{const f=ae();try{await re(f,p,e),le("/login")}catch(q){console.log("Fehler: ",q.message)}},g=()=>{if(e&&s&&e!==s){a(2,l=!0);return}else a(2,l=!1)},n=f=>{if(f.preventDefault(),e&&s&&e!==s){a(2,l=!0);return}else a(2,l=!1),c()},i=()=>{if(l){a(2,l=!1);return}},d=async()=>{await oe("reiner@chaplaincy-bonn.de","admin")};function h(f){e=f,a(0,e)}function E(f){s=f,a(1,s)}return[e,s,l,g,n,i,d,h,E]}class Pe extends ee{constructor(t){super(),te(this,t,de,$e,Q,{})}}export{Pe as component};
