import{s as A,e as h,a as C,c as $,b as v,q as E,g as D,f,m as M,i as _,h as g,n as b,t as S,d as w,x as j,Q as z,j as B}from"../chunks/scheduler.B2j_u3VX.js";import{S as H,i as I,a as k,f as O,t as x,g as R,c as V,b as q,m as P,d as T}from"../chunks/index.gBPXUQn8.js";import{a as U}from"../chunks/AuthStore.DLq-_aif.js";import"../chunks/authService.DPgloByq.js";import{B as F}from"../chunks/Button.NSbbczmI.js";import{g as J}from"../chunks/entry.DCPaTTto.js";function N(u){let e,n="Es ist kein Benutzer eingeloggt";return{c(){e=h("div"),e.textContent=n},l(r){e=$(r,"DIV",{"data-svelte-h":!0}),E(e)!=="svelte-xsr15j"&&(e.textContent=n)},m(r,l){_(r,e,l)},p:b,i:b,o:b,d(r){r&&f(e)}}}function Q(u){let e,n=`Hier kannst Du den User ${u[0].user.email} (${u[0].user.role}) zum Admin machen :) `,r,l,a,s,c,d,m;return s=new F({props:{type:"submit",$$slots:{default:[G]},$$scope:{ctx:u}}}),{c(){e=h("div"),r=S(n),l=C(),a=h("form"),V(s.$$.fragment)},l(o){e=$(o,"DIV",{});var t=v(e);r=w(t,n),t.forEach(f),l=D(o),a=$(o,"FORM",{});var i=v(a);q(s.$$.fragment,i),i.forEach(f)},m(o,t){_(o,e,t),g(e,r),_(o,l,t),_(o,a,t),P(s,a,null),c=!0,d||(m=j(a,"submit",z(u[1])),d=!0)},p(o,t){(!c||t&1)&&n!==(n=`Hier kannst Du den User ${o[0].user.email} (${o[0].user.role}) zum Admin machen :) `)&&B(r,n);const i={};t&16&&(i.$$scope={dirty:t,ctx:o}),s.$set(i)},i(o){c||(x(s.$$.fragment,o),c=!0)},o(o){k(s.$$.fragment,o),c=!1},d(o){o&&(f(e),f(l),f(a)),T(s),d=!1,m()}}}function G(u){let e;return{c(){e=S("Make admin")},l(n){e=w(n,"Make admin")},m(n,r){_(n,e,r)},d(n){n&&f(e)}}}function K(u){let e,n,r="Make admin",l,a,s,c;const d=[Q,N],m=[];function o(t,i){var p,y;return(y=(p=t[0])==null?void 0:p.user)!=null&&y.email?0:1}return a=o(u),s=m[a]=d[a](u),{c(){e=h("div"),n=h("h1"),n.textContent=r,l=C(),s.c(),this.h()},l(t){e=$(t,"DIV",{class:!0});var i=v(e);n=$(i,"H1",{"data-svelte-h":!0}),E(n)!=="svelte-1phkmph"&&(n.textContent=r),l=D(i),s.l(i),i.forEach(f),this.h()},h(){M(e,"class","")},m(t,i){_(t,e,i),g(e,n),g(e,l),m[a].m(e,null),c=!0},p(t,[i]){let p=a;a=o(t),a===p?m[a].p(t,i):(R(),k(m[p],1,1,()=>{m[p]=null}),O(),s=m[a],s?s.p(t,i):(s=m[a]=d[a](t),s.c()),x(s,1),s.m(e,null))},i(t){c||(x(s),c=!0)},o(t){k(s),c=!1},d(t){t&&f(e),m[a].d()}}}function L(u,e,n){console.log("isEnabled",!1),J("/");let l;const a=async c=>{await(await fetch("https://us-central1-chaplaincy-website-bncgn.cloudfunctions.net/setAdminRole",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c})})).text()},s=()=>{a(l.user.email)};return U.subscribe(c=>{n(0,l=c)}),[l,s]}class ne extends H{constructor(e){super(),I(this,e,L,K,A,{})}}export{ne as component};
